amends "..."

//app = "ohj-test-project-pr-1766"


images {
  [module.app] {
    image = "nginxinc/nginx-unprivileged:alpine3.22-perl"
  }
}

// Slack notifications configuration
includeSlackErrorMessageOnSync = true
includeSlackSuccessMessageOnSync = true
deployStatusSlackChannel = "tek-notifications-argocd"



configMaps {
  [module.app] {
    data {
      ["ping-world"] = "Ping, pong!"
      ["override-me"] = "New override value!"
    }
  }
}

publicIngressRules {
  new {
    host = "ohj-test-project.pr.polarismedia.no"
    paths = List("/")
  }
}


publicIngresses {
  [module.app + "-public"] {
    metadata {
      annotations {
        ["nginx.ingress.kubernetes.io/enable-modsecurity"] = "true"
      }
    }
  }
}
